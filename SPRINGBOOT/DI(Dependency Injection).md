# DI(Dependency Injection)

DI는 Dependency Injection(의존성 주입)의 줄임말로서, 

필요한 객체를 직접 생성하는 것이 아니라 외부로부터 빈을 주입받는 기법을 말합니다. 

덕분에 개발자가 객체 생성 코드를 직접 작성하지 않아서 모듈 간의 결합도가 낮아지고, 유연성이 높아집니다. 

DI의 종류는 생성자를 이용한 의존성 주입, setter 메소드를 이용한 의존성 주입, 멤버 변수를 통한 의존성 주입이 있습니다.

<br>

____

<br>

+ A 클래스에서 B 클래스를 사용할 때, A 클래스는 B 클래스에 대한 의존성을 갖고 있다고 말한다.

+ DI는 내부에서 객체를 생성하는 것이 아니라 외부에서 생성한 객체를 넣어주는 것이기 때문에 '의존성 주입'이라고 하는 것이다.

+ 의존성을 주입하는 것뿐만 아니라 의존성이 분리 되어야 진정한 DI라고 할 수 있다.

  의존성이 분리되는 것은 B 클래스에 대한 의존성을 직접 갖는 것이 아니라 B클래스가 구현하고 있는 인터페이스에 대한 의존성을 갖도록 하는 것이다.

  > SOLID 중 DIP(의존관계 역전 원칙)
  >
  > + 상위 모듈은 하위 모듈에 의존해서는 안된다. 상위 모듈과 하위 모듈 모두 추상화에 의존해야 한다.
  > + 추상화는 세부 사항에 의존해서는 안된다. 세부사항이 추상화에 의존해야 한다.

```java
public class A {
    B b = new B(); //DI를 사용하지 않는 경우
}

@RequiredArgsConstructor
public class A  {
	private final B b; //생성자를 통한 의존성 주입
}

@RequiredArgsConstructor
public class A {
	private final BInterface bInterface; //추상화를 통한 의존성 주입
}
```

+ DI의 종류

  1. 생성자를 통한 의존성 주입

     > 생성자 호출 시점에 딱 1번만 호출되는 것을 보장하며, 불변(final), 필수 의존 관계에 사용한다.

  2. 세터를 통한 의존성 주입

     > 변경 가능성이 있는 의존관계에서 사용되며, 빈을 선택적으로 등록할 수 있다.

  3. 멤버 변수(필드)를 통한 의존성 주입

     > @Autowired를 사용하는데, 외부에서 변경이 불가능하다.
     >
     > 주로 애플리케이션과 관계 없는 테스트나 @Configuration같은 곳에서 사용하는 방법이다.